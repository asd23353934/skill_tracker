# 📦 發布檢查清單

每次發布新版本前，請按照此清單執行：

## ☑️ 發布前檢查

### 1. 版本更新
```bash
python bump_version.py
```
- [ ] 選擇版本類型（patch/minor/major）
- [ ] 輸入更新日誌
- [ ] 確認版本號正確

### 2. 代碼檢查
- [ ] 所有功能測試通過
- [ ] 沒有已知的嚴重 bug
- [ ] 代碼已提交到 Git

### 3. 清理環境
```bash
python clean_for_release.py
```
- [ ] config.json 恢復初始狀態
- [ ] 只保留預設配置
- [ ] 刪除測試配置

### 4. 發布前驗證
```bash
python check_release.py
```
- [ ] 所有檢查通過 ✅
- [ ] current_profile = "預設配置"
- [ ] settings 都為空

### 5. 打包
```bash
pyinstaller skill_tracker.spec
```
- [ ] 打包成功，無錯誤
- [ ] 檢查 dist/技能追蹤器/ 資料夾

### 6. 測試打包結果
```bash
cd dist/技能追蹤器
技能追蹤器.exe
```
- [ ] 程式正常啟動
- [ ] 標題顯示正確版本號
- [ ] 顯示「預設配置」
- [ ] 所有技能無快捷鍵
- [ ] 所有秒數為灰色（原始值）
- [ ] 可以正常設定快捷鍵
- [ ] 可以正常修改秒數
- [ ] 配置管理功能正常
- [ ] 自動更新檢查正常（如果有網路）

### 7. 壓縮打包
```bash
# 壓縮整個 dist/技能追蹤器/ 資料夾
→ 技能追蹤器_vX.X.X.zip
```
- [ ] ZIP 檔案命名正確
- [ ] 檔案大小合理（約 20-30 MB）
- [ ] 解壓縮測試正常

### 8. Git 標籤
```bash
git add .
git commit -m "Release vX.X.X"
git tag vX.X.X
git push origin main
git push origin vX.X.X
```
- [ ] 代碼已提交
- [ ] 標籤已創建
- [ ] 已推送到 GitHub

### 9. GitHub Release
- [ ] 在 GitHub 創建新 Release
- [ ] Tag 選擇正確版本
- [ ] 標題: `技能追蹤器 vX.X.X`
- [ ] 上傳 ZIP 檔案
- [ ] 複製更新日誌到說明
- [ ] 發布 Release

### 10. 測試下載
- [ ] 從 GitHub Release 下載
- [ ] 解壓縮測試
- [ ] 執行測試
- [ ] 確認自動更新檢查正常

## 📋 版本號規則

### Patch (x.x.X)
- 修復 bug
- 小改進
- 不影響現有功能

範例: 1.0.1 → 1.0.2

### Minor (x.X.0)
- 新增功能
- 較大的改進
- 向下相容

範例: 1.0.2 → 1.1.0

### Major (X.0.0)
- 重大功能改變
- 可能不向下相容
- 架構調整

範例: 1.2.3 → 2.0.0

## 📝 更新日誌範例

### Patch 更新
```
v1.0.2 (2025-01-15)
-------------------
- 🐛 修復配置切換時的記憶體洩漏
- 🐛 修復快捷鍵衝突檢測
- ✨ 優化啟動速度
```

### Minor 更新
```
v1.1.0 (2025-01-20)
-------------------
- ✅ 新增技能分組功能
- ✅ 新增快捷鍵匯出/匯入
- ✅ 支援自訂技能圖示
- 🎨 優化 UI 配色
- 🐛 修復若干已知問題
```

### Major 更新
```
v2.0.0 (2025-02-01)
-------------------
- 🎉 全新 UI 設計
- ✅ 重構網路同步系統
- ✅ 支援插件系統
- ⚠️ 配置檔案格式變更（需要重新設定）
- 🐛 修復所有已知問題
```

## 🚨 緊急修復流程

如果發現嚴重 bug 需要緊急修復：

1. **立即修復** - 修改代碼
2. **版本更新** - `python bump_version.py` → 選擇 Patch
3. **快速測試** - 重點測試修復的部分
4. **快速打包** - 跳過完整清理，直接打包
5. **緊急發布** - 標註為 "Hotfix"
6. **通知用戶** - 在 Release 說明中標註緊急修復

## 📞 發布後

- [ ] 更新 README.md 的版本號
- [ ] 更新文檔（如果有變更）
- [ ] 通知用戶（Discord/論壇/社群）
- [ ] 監控錯誤回報
- [ ] 準備下一版本的規劃

---

最後更新: 2025-01-01
